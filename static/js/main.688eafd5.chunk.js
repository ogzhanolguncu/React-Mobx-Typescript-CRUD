(this["webpackJsonpnote-keeper"]=this["webpackJsonpnote-keeper"]||[]).push([[0],{217:function(e,t,n){e.exports=n(392)},222:function(e,t,n){},392:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(48),o=n.n(i),c=(n(222),n(407)),l=n(401),u=n(24),s=n.n(u),b=n(204),d=n(98),m=n(96),f=n(406),p=n(403),g=n(405),h=n(20),v=n(69),O=function(e){var t=e.input,n=e.width,r=e.type,i=e.placeholder,o=e.meta,c=o.touched,l=o.error;return a.a.createElement(h.a,{error:c&&!!l,type:r,width:n},a.a.createElement("input",Object.assign({},t,{placeholder:i})),c&&l&&a.a.createElement(v.a,{basic:!0,color:"red",style:{float:"left"}},l))},j=function(e){var t=e.input,n=e.width,r=e.rows,i=e.placeholder,o=e.meta,c=o.touched,l=o.error;return a.a.createElement(h.a,{error:c&&!!l,width:n},a.a.createElement("textarea",Object.assign({},t,{placeholder:i,rows:r})),c&&l&&a.a.createElement(v.a,{basic:!0,color:"red",style:{float:"left"}},l))},y=n(36),w=n(25),E=n(57),N=n(22),x=(n(357),n(10)),I=n(61),S=n.n(I);S.a.defaults.baseURL="https://5e15b69b21f9c90014c3d59e.mockapi.io/";var k,C,z,R,F,D,q,A,L,T,W,B,J,P=function(e){return e.data},V=function(e){return function(t){return new Promise((function(n){return setTimeout((function(){return n(t)}),e)}))}},H=function(e){return S.a.get(e).then(V(1e3)).then(P)},M=function(e,t){return S.a.post(e,t).then(V(1e3)).then(P)},U=function(e,t){return S.a.put(e,t).then(V(1e3)).then(P)},$=function(e){return S.a.delete(e).then(V(1e3)).then(P)},G={list:function(){return H("/notes/")},details:function(e){return H("/notes/".concat(e))},create:function(e){return M("/notes",e)},update:function(e){return U("/notes/".concat(e.id),e)},delete:function(e){return $("/notes/".concat(e))}},K=(k=function(){function e(t){var n=this;Object(y.a)(this,e),this.rootStore=void 0,Object(w.a)(this,"noteRegistry",C,this),Object(w.a)(this,"note",z,this),Object(w.a)(this,"submitting",R,this),Object(w.a)(this,"loadingInitial",F,this),Object(w.a)(this,"noteConunt",D,this),Object(w.a)(this,"selectedItemId",q,this),this.getNoteFromStore=function(e){return n.noteRegistry.get(e)},Object(w.a)(this,"selectNote",A,this),Object(w.a)(this,"loadNote",L,this),Object(w.a)(this,"loadNotes",T,this),Object(w.a)(this,"createNote",W,this),Object(w.a)(this,"editNote",B,this),Object(w.a)(this,"deleteNote",J,this),this.rootStore=t}return Object(E.a)(e,[{key:"getNotesFromStore",get:function(){return Array.from(this.noteRegistry.values())}}]),e}(),C=Object(N.a)(k.prototype,"noteRegistry",[x.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),z=Object(N.a)(k.prototype,"note",[x.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=Object(N.a)(k.prototype,"submitting",[x.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=Object(N.a)(k.prototype,"loadingInitial",[x.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=Object(N.a)(k.prototype,"noteConunt",[x.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),q=Object(N.a)(k.prototype,"selectedItemId",[x.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(N.a)(k.prototype,"getNotesFromStore",[x.c],Object.getOwnPropertyDescriptor(k.prototype,"getNotesFromStore"),k.prototype),A=Object(N.a)(k.prototype,"selectNote",[x.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.selectedItemId=t;var n=e.getNoteFromStore(e.selectedItemId);return Object(x.i)(n)}}}),L=Object(N.a)(k.prototype,"loadNote",[x.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n;return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n=e.getNoteFromStore(t))){r.next=6;break}return e.note=n,r.abrupt("return",Object(x.i)(n));case 6:return e.loadingInitial=!0,r.prev=7,r.next=10,s.a.awrap(G.details(t));case 10:return n=r.sent,Object(x.g)("loading note",(function(){e.note=n,e.noteRegistry.set(n.id,n),e.loadingInitial=!1})),r.abrupt("return",n);case 15:r.prev=15,r.t0=r.catch(7),Object(x.g)("loading note error",(function(){e.loadingInitial=!1}));case 18:case"end":return r.stop()}}),null,null,[[7,15]])}}}),T=Object(N.a)(k.prototype,"loadNotes",[x.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e.loadingInitial=!0,n.prev=1,n.next=4,s.a.awrap(G.list());case 4:t=n.sent,Object(x.g)("loading activities",(function(){t.forEach((function(t){e.noteRegistry.set(t.id,t)})),e.loadingInitial=!1})),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),Object(x.g)("loading activities",(function(){e.loadingInitial=!1}));case 11:case"end":return n.stop()}}),null,null,[[1,8]])}}}),W=Object(N.a)(k.prototype,"createNote",[x.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e.submitting=!0,console.log(1,e.submitting),n.prev=2,n.next=5,s.a.awrap(G.create(t));case 5:Object(x.g)("creating activity",(function(){e.noteRegistry.set(t.id,t),e.submitting=!1,console.log(2,e.submitting)})),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(2),Object(x.g)("create activity error",(function(){e.submitting=!1})),console.log(n.t0.response);case 12:case"end":return n.stop()}}),null,null,[[2,8]])}}}),B=Object(N.a)(k.prototype,"editNote",[x.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e.submitting=!0,n.prev=1,n.next=4,s.a.awrap(G.update(t));case 4:Object(x.g)("editing activity",(function(){e.noteRegistry.set(t.id,t),e.note=t,e.submitting=!1})),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(1),Object(x.g)("editing activity error",(function(){e.submitting=!1})),console.log(n.t0);case 11:case"end":return n.stop()}}),null,null,[[1,7]])}}}),J=Object(N.a)(k.prototype,"deleteNote",[x.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e.loadingInitial=!0,n.prev=1,n.next=4,s.a.awrap(G.delete(t));case 4:Object(x.g)("deleting note",(function(){e.noteRegistry.delete(t),e.loadingInitial=!1})),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(1),Object(x.g)("delete activity error",(function(){e.loadingInitial=!1})),console.log(n.t0);case 11:case"end":return n.stop()}}),null,null,[[1,7]])}}}),k),Q=Object(r.createContext)(new function e(){Object(y.a)(this,e),this.noteStore=void 0,this.noteStore=new K(this)}),X=n(58),Y=Object(X.a)((function(){var e=Object(r.useContext)(Q).noteStore,t=e.createNote,n=e.submitting,i=e.editNote,o=e.selectNote,u=e.selectedItemId,h=Object(r.useState)(),v=Object(b.a)(h,2),y=v[0],w=v[1];Object(r.useEffect)((function(){var e=o(u);w(e),console.log(e)}),[u,o]);var E=Object(m.combineValidators)({title:Object(m.isRequired)({message:"Title is required."}),description:Object(m.isRequired)({message:"Description is required"})});return a.a.createElement(l.a,null,a.a.createElement(f.a,{as:"h2",dividing:!0,size:"medium"},"Note Details"),a.a.createElement(c.a,null,a.a.createElement(c.a.Column,{width:11},a.a.createElement(d.b,{validate:E,initialValues:y,onSubmit:function(e){return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e.id?i(e):t(e);case 1:case"end":return n.stop()}}))},render:function(e){var t=e.handleSubmit,r=e.form,i=e.invalid,o=e.pristine;return a.a.createElement(p.a,{onSubmit:function(e){var n=t(e);return n&&n.then((function(){r.reset()})),n}},a.a.createElement(d.a,{name:"title",placeholder:"Title",component:O}),a.a.createElement(d.a,{placeholder:"Description",name:"description",rows:3,component:j}),a.a.createElement(g.a,{loading:n,disabled:i||o||n,floated:"right",primary:!0,type:"submit",content:"Submit"}),a.a.createElement(g.a,{floated:"right",type:"button",content:"Cancel",onClick:r.reset}))}}))))})),Z=n(404),_=n(38),ee=n(402),te=function(e){var t=e.content;return a.a.createElement(ee.a,{active:!0,content:t})},ne=Object(X.a)((function(){var e=Object(r.useContext)(Q).noteStore,t=e.getNotesFromStore,n=e.loadingInitial,i=e.submitting,o=e.selectNote,c=e.deleteNote;return n||i?a.a.createElement(te,{content:"Loading notes..."}):a.a.createElement(l.a,null,a.a.createElement(f.a,{as:"h2",dividing:!0,size:"medium"},"Note List"),a.a.createElement(Z.a,{selection:!0,animated:!0,style:{margin:"10px"}},t.map((function(e,t){return a.a.createElement(r.Fragment,{key:t},a.a.createElement(Z.a.Item,{onClick:function(){return o(e.id)}},a.a.createElement(Z.a.Header,null,e.title,"  ",a.a.createElement(_.a,{name:"trash",onClick:function(){return c(e.id)}})),a.a.createElement(Z.a.Content,null,e.description)))}))))})),re=Object(X.a)((function(){var e=Object(r.useContext)(Q).noteStore.loadNotes;return Object(r.useEffect)((function(){e()}),[e]),a.a.createElement(r.Fragment,null,a.a.createElement(c.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle"},a.a.createElement(c.a.Column,{style:{maxWidth:1100}},a.a.createElement(l.a,{style:{border:"2px solid #CFDEF3",height:"auto"}},a.a.createElement(c.a,{columns:2,padded:"vertically"},a.a.createElement(c.a.Row,{stretched:!0},a.a.createElement(c.a.Column,null,a.a.createElement(ne,null)),a.a.createElement(c.a.Column,null,a.a.createElement(l.a,null,a.a.createElement(Y,null)))))))))})),ae=function(){return a.a.createElement(re,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[217,1,2]]]);
//# sourceMappingURL=main.688eafd5.chunk.js.map